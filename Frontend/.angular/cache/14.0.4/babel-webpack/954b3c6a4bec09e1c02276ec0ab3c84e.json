{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Natan/Desktop/Project 4/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { environment } from './../../environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class ShoppingCartService {\n  constructor(http) {\n    this.http = http;\n  }\n\n  createCart(_id) {\n    return this.http.post(environment.shoppingUrl + \"create-cart\", _id);\n  }\n\n  addProductToCart(product) {\n    return this.http.post(environment.shoppingUrl + \"add-product\", product);\n  }\n\n  getAllProducts(cartId) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      return _this.http.post(environment.shoppingUrl + \"get-all-products\", cartId);\n    })();\n  }\n\n  updateProduct(product) {\n    return this.http.put(environment.shoppingUrl + \"update-product\", product);\n  }\n\n  removeFromCart(_id) {\n    return this.http.delete(environment.shoppingUrl + \"remove-product/\" + _id);\n  }\n\n  getTotalPrice(shoppingCartProducts) {\n    let number = 0;\n    shoppingCartProducts.map(p => number += p.price);\n    return number;\n  }\n\n  deleteCart(cart) {\n    return this.http.delete(environment.shoppingUrl + \"delete-cart/\" + cart._id);\n  }\n\n}\n\nShoppingCartService.ɵfac = function ShoppingCartService_Factory(t) {\n  return new (t || ShoppingCartService)(i0.ɵɵinject(i1.HttpClient));\n};\n\nShoppingCartService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ShoppingCartService,\n  factory: ShoppingCartService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAAA,SAASA,WAAT,QAA4B,kCAA5B;;;AAUA,OAAM,MAAOC,mBAAP,CAA0B;EAE9BC,YAAoBC,IAApB,EAAoC;IAAhB;EAAqB;;EAElCC,UAAU,CAACC,GAAD,EAAS;IACxB,OAAO,KAAKF,IAAL,CAAUG,IAAV,CAAeN,WAAW,CAACO,WAAZ,GAAyB,aAAxC,EAAuDF,GAAvD,CAAP;EACD;;EACMG,gBAAgB,CAACC,OAAD,EAAoB;IACzC,OAAO,KAAKN,IAAL,CAAUG,IAAV,CAA2BN,WAAW,CAACO,WAAZ,GAA0B,aAArD,EAAoEE,OAApE,CAAP;EACD;;EACYC,cAAc,CAACC,MAAD,EAAY;IAAA;;IAAA;MACrC,OAAO,KAAI,CAACR,IAAL,CAAUG,IAAV,CAA6BN,WAAW,CAACO,WAAZ,GAAyB,kBAAtD,EAA0EI,MAA1E,CAAP;IADqC;EAEtC;;EACMC,aAAa,CAACH,OAAD,EAAoB;IACtC,OAAO,KAAKN,IAAL,CAAUU,GAAV,CAA0Bb,WAAW,CAACO,WAAZ,GAAyB,gBAAnD,EAAqEE,OAArE,CAAP;EACD;;EACMK,cAAc,CAACT,GAAD,EAAY;IAC/B,OAAO,KAAKF,IAAL,CAAUY,MAAV,CAAiBf,WAAW,CAACO,WAAZ,GAA0B,iBAA1B,GAA8CF,GAA/D,CAAP;EACD;;EACMW,aAAa,CAACC,oBAAD,EAAmC;IACrD,IAAIC,MAAM,GAAW,CAArB;IACAD,oBAAoB,CAACE,GAArB,CAAyBC,CAAC,IAAIF,MAAM,IAAIE,CAAC,CAACC,KAA1C;IACA,OAAOH,MAAP;EACD;;EACMI,UAAU,CAACC,IAAD,EAAW;IAC1B,OAAO,KAAKpB,IAAL,CAAUY,MAAV,CAAiBf,WAAW,CAACO,WAAZ,GAAyB,cAAzB,GAA0CgB,IAAI,CAAClB,GAAhE,CAAP;EACD;;AA1B6B;;;mBAAnBJ,qBAAmBuB;AAAA;;;SAAnBvB;EAAmBwB,SAAnBxB,mBAAmB;EAAAyB,YAFlB","names":["environment","ShoppingCartService","constructor","http","createCart","_id","post","shoppingUrl","addProductToCart","product","getAllProducts","cartId","updateProduct","put","removeFromCart","delete","getTotalPrice","shoppingCartProducts","number","map","p","price","deleteCart","cart","i0","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\Natan\\Desktop\\Project 4\\Frontend\\src\\app\\services\\shopping-cart.service.ts"],"sourcesContent":["import { environment } from './../../environments/environment';\r\nimport { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { CartDetail } from '../models/cart-detail';\r\nimport { Cart } from '../models/cart';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ShoppingCartService {\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  public createCart(_id: any) {\r\n    return this.http.post(environment.shoppingUrl+ \"create-cart\", _id);\r\n  }\r\n  public addProductToCart(product: CartDetail): Observable<CartDetail> {\r\n    return this.http.post<CartDetail>(environment.shoppingUrl + \"add-product\", product);\r\n  }\r\n  public async getAllProducts(cartId: any): Observable<CartDetail[]> {\r\n    return this.http.post<CartDetail[]>(environment.shoppingUrl+ \"get-all-products\", cartId);\r\n  }\r\n  public updateProduct(product: CartDetail): Observable<CartDetail> {\r\n    return this.http.put<CartDetail>(environment.shoppingUrl +\"update-product\", product);\r\n  }\r\n  public removeFromCart(_id: string) {\r\n    return this.http.delete(environment.shoppingUrl + \"remove-product/\" + _id);\r\n  }\r\n  public getTotalPrice(shoppingCartProducts: CartDetail[]){\r\n    let number: number = 0;\r\n    shoppingCartProducts.map(p => number += p.price);\r\n    return number;\r\n  }\r\n  public deleteCart(cart: Cart) {\r\n    return this.http.delete(environment.shoppingUrl+ \"delete-cart/\" + cart._id);\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}